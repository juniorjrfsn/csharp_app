/*
 Highcharts JS v10.2.1 (2022-09-19)

 ColorAxis module

 (c) 2012-2021 Pawel Potaczek

 License: www.highcharts.com/license
*/
(function(d){"object"===typeof module&&module.exports?(d["default"]=d,module.exports=d):"function"===typeof define&&define.amd?define("highcharts/modules/color-axis",["highcharts"],function(n){d(n);d.Highcharts=n;return d}):d("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(d){function n(d,h,r,p){d.hasOwnProperty(h)||(d[h]=p.apply(null,r),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,module:d[h]}})))}d=d?d._modules:{};n(d,
"Core/Axis/Color/ColorAxisComposition.js",[d["Core/Color/Color.js"],d["Core/Utilities.js"]],function(d,h){var m=d.parse,p=h.addEvent,n=h.extend,y=h.merge,z=h.pick,t=h.splat,v;(function(d){function h(){var b=this,a=this.options;this.colorAxis=[];a.colorAxis&&(a.colorAxis=t(a.colorAxis),a.colorAxis.forEach(function(a,c){a.index=c;new w(b,a)}))}function v(a){var b=this,c=function(c){c=a.allItems.indexOf(c);-1!==c&&(b.destroyItem(a.allItems[c]),a.allItems.splice(c,1))},g=[],k,f;(this.chart.colorAxis||
[]).forEach(function(a){(k=a.options)&&k.showInLegend&&(k.dataClasses&&k.visible?g=g.concat(a.getDataClassLegendSymbols()):k.visible&&g.push(a),a.series.forEach(function(a){if(!a.options.showInLegend||k.dataClasses)"point"===a.options.legendType?a.points.forEach(function(a){c(a)}):c(a)}))});for(f=g.length;f--;)a.allItems.unshift(g[f])}function r(a){a.visible&&a.item.legendColor&&a.item.legendSymbol.attr({fill:a.item.legendColor})}function x(){var a=this.chart.colorAxis;a&&a.forEach(function(a,c,b){a.update({},
b)})}function q(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function D(){var a=this.axisTypes;a?-1===a.indexOf("colorAxis")&&a.push("colorAxis"):this.axisTypes=["colorAxis"]}function e(a){var b=this,c=a?"show":"hide";b.visible=b.options.visible=!!a;["graphic","dataLabel"].forEach(function(a){if(b[a])b[a][c]()});this.series.buildKDTree()}function b(){var a=this,b=this.options.nullColor,c=this.colorAxis,g=this.colorKey;(this.data.length?this.data:
this.points).forEach(function(f){var e=f.getNestedProperty(g);(e=f.options.color||(f.isNull||null===f.value?b:c&&"undefined"!==typeof e?c.toColor(e,f):f.color||a.color))&&f.color!==e&&(f.color=e,"point"===a.options.legendType&&f.legendItem&&a.chart.legend.colorizeItem(f,f.visible))})}function a(a){var b=a.prototype.createAxis;a.prototype.createAxis=function(a,c){if("colorAxis"!==a)return b.apply(this,arguments);var g=new w(this,y(c.axis,{index:this[a].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(a){a.series=
[]});this.series.forEach(function(a){a.bindAxes();a.isDirtyData=!0});z(c.redraw,!0)&&this.redraw(c.animation);return g}}function g(){this.elem.attr("fill",m(this.start).tweenTo(m(this.end),this.pos),void 0,!0)}function c(){this.elem.attr("stroke",m(this.start).tweenTo(m(this.end),this.pos),void 0,!0)}var f=[],w;d.compose=function(k,l,d,m,u){w||(w=k);-1===f.indexOf(l)&&(f.push(l),k=l.prototype,k.collectionsWithUpdate.push("colorAxis"),k.collectionsWithInit.colorAxis=[k.addColorAxis],p(l,"afterGetAxes",
h),a(l));-1===f.indexOf(d)&&(f.push(d),l=d.prototype,l.fillSetter=g,l.strokeSetter=c);-1===f.indexOf(m)&&(f.push(m),p(m,"afterGetAllItems",v),p(m,"afterColorizeItem",r),p(m,"afterUpdate",x));-1===f.indexOf(u)&&(f.push(u),n(u.prototype,{optionalAxis:"colorAxis",translateColors:b}),n(u.prototype.pointClass.prototype,{setVisible:e}),p(u,"afterTranslate",q),p(u,"bindAxes",D))};d.pointSetVisible=e})(v||(v={}));return v});n(d,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,
maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}});n(d,"Core/Axis/Color/ColorAxis.js",[d["Core/Axis/Axis.js"],d["Core/Color/Color.js"],d["Core/Axis/Color/ColorAxisComposition.js"],d["Core/Axis/Color/ColorAxisDefaults.js"],d["Core/Globals.js"],d["Core/Legend/LegendSymbol.js"],d["Core/Series/SeriesRegistry.js"],
d["Core/Utilities.js"]],function(d,h,n,p,E,y,z,t){var m=this&&this.__extends||function(){var d=function(e,b){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return d(e,b)};return function(e,b){function a(){this.constructor=e}d(e,b);e.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)}}(),r=h.parse,A=z.series,B=t.extend,C=t.isNumber,x=t.merge,q=t.pick;h=function(d){function e(b,a){var g=
d.call(this,b,a)||this;g.beforePadding=!1;g.chart=void 0;g.coll="colorAxis";g.dataClasses=void 0;g.legendItem=void 0;g.legendItems=void 0;g.name="";g.options=void 0;g.stops=void 0;g.visible=!0;g.init(b,a);return g}m(e,d);e.compose=function(b,a,g,c){n.compose(e,b,a,g,c)};e.prototype.init=function(b,a){var g=b.options.legend||{},c=a.layout?"vertical"!==a.layout:"vertical"!==g.layout,f=a.visible;g=x(e.defaultColorAxisOptions,a,{showEmpty:!1,title:null,visible:g.enabled&&!1!==f});this.coll="colorAxis";
this.side=a.side||c?2:1;this.reversed=a.reversed||!c;this.opposite=!c;d.prototype.init.call(this,b,g);this.userOptions.visible=f;a.dataClasses&&this.initDataClasses(a);this.initStops();this.horiz=c;this.zoomEnabled=!1};e.prototype.initDataClasses=function(b){var a=this.chart,g=this.options,c=b.dataClasses.length,f,d=0,e=a.options.chart.colorCount;this.dataClasses=f=[];this.legendItems=[];(b.dataClasses||[]).forEach(function(b,k){b=x(b);f.push(b);if(a.styledMode||!b.color)"category"===g.dataClassColor?
(a.styledMode||(k=a.options.colors,e=k.length,b.color=k[d]),b.colorIndex=d,d++,d===e&&(d=0)):b.color=r(g.minColor).tweenTo(r(g.maxColor),2>c?.5:k/(c-1))})};e.prototype.hasData=function(){return!!(this.tickPositions||[]).length};e.prototype.setTickPositions=function(){if(!this.dataClasses)return d.prototype.setTickPositions.call(this)};e.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(b){b.color=r(b[1])})};
e.prototype.setOptions=function(b){d.prototype.setOptions.call(this,b);this.options.crosshair=this.options.marker};e.prototype.setAxisSize=function(){var b=this.legendSymbol,a=this.chart,g=a.options.legend||{},c,f;b?(this.left=g=b.attr("x"),this.top=c=b.attr("y"),this.width=f=b.attr("width"),this.height=b=b.attr("height"),this.right=a.chartWidth-g-f,this.bottom=a.chartHeight-c-b,this.len=this.horiz?f:b,this.pos=this.horiz?g:c):this.len=(this.horiz?g.symbolWidth:g.symbolHeight)||e.defaultLegendLength};
e.prototype.normalizedValue=function(b){this.logarithmic&&(b=this.logarithmic.log2lin(b));return 1-(this.max-b)/(this.max-this.min||1)};e.prototype.toColor=function(b,a){var g=this.dataClasses,c=this.stops,f;if(g)for(f=g.length;f--;){var d=g[f];var e=d.from;c=d.to;if(("undefined"===typeof e||b>=e)&&("undefined"===typeof c||b<=c)){var l=d.color;a&&(a.dataClass=f,a.colorIndex=d.colorIndex);break}}else{b=this.normalizedValue(b);for(f=c.length;f--&&!(b>c[f][0]););e=c[f]||c[f+1];c=c[f+1]||e;b=1-(c[0]-
b)/(c[0]-e[0]||1);l=e.color.tweenTo(c.color,b)}return l};e.prototype.getOffset=function(){var b=this.legendGroup,a=this.chart.axisOffset[this.side];if(b){this.axisParent=b;d.prototype.getOffset.call(this);var g=this.chart.legend;g.allItems.forEach(function(a){a instanceof e&&a.drawLegendSymbol(g,a)});g.render();this.chart.getMargins(!0);this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width);this.chart.axisOffset[this.side]=a}};e.prototype.setLegendColor=function(){var b=this.reversed,
a=b?1:0;b=b?0:1;a=this.horiz?[a,0,b,0]:[0,b,0,a];this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]},stops:this.stops}};e.prototype.drawLegendSymbol=function(b,a){var g=b.padding,c=b.options,d=this.horiz,h=q(c.symbolWidth,d?e.defaultLegendLength:12),k=q(c.symbolHeight,d?12:e.defaultLegendLength),l=q(c.labelPadding,d?16:30);c=q(c.itemDistance,10);this.setLegendColor();a.legendSymbol||(a.legendSymbol=this.chart.renderer.rect(0,b.baseline-11,h,k).attr({zIndex:1}).add(a.legendGroup));this.legendItemWidth=
h+g+(d?c:this.options.labels.x+this.maxLabelLength);this.legendItemHeight=k+g+(d?l:0)};e.prototype.setState=function(b){this.series.forEach(function(a){a.setState(b)})};e.prototype.setVisible=function(){};e.prototype.getSeriesExtremes=function(){var b=this.series,a=b.length,d;this.dataMin=Infinity;for(this.dataMax=-Infinity;a--;){var c=b[a];var f=c.colorKey=q(c.options.colorKey,c.colorKey,c.pointValKey,c.zoneAxis,"y");var e=c.pointArrayMap;var k=c[f+"Min"]&&c[f+"Max"];if(c[f+"Data"])var l=c[f+"Data"];
else if(e){l=[];e=e.indexOf(f);var h=c.yData;if(0<=e&&h)for(d=0;d<h.length;d++)l.push(q(h[d][e],h[d]))}else l=c.yData;k?(c.minColorValue=c[f+"Min"],c.maxColorValue=c[f+"Max"]):(l=A.prototype.getExtremes.call(c,l),c.minColorValue=l.dataMin,c.maxColorValue=l.dataMax);"undefined"!==typeof c.minColorValue&&(this.dataMin=Math.min(this.dataMin,c.minColorValue),this.dataMax=Math.max(this.dataMax,c.maxColorValue));k||A.prototype.applyExtremes.call(c)}};e.prototype.drawCrosshair=function(b,a){var g=a&&a.plotX,
c=a&&a.plotY,e=this.pos,h=this.len;if(a){var k=this.toPixels(a.getNestedProperty(a.series.colorKey));k<e?k=e-2:k>e+h&&(k=e+h+2);a.plotX=k;a.plotY=this.len-k;d.prototype.drawCrosshair.call(this,b,a);a.plotX=g;a.plotY=c;this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}};e.prototype.getPlotLinePath=
function(b){var a=this.left,e=b.translatedValue,c=this.top;return C(e)?this.horiz?[["M",e-4,c-6],["L",e+4,c-6],["L",e,c],["Z"]]:[["M",a,e],["L",a-6,e+6],["L",a-6,e-6],["Z"]]:d.prototype.getPlotLinePath.call(this,b)};e.prototype.update=function(b,a){var e=this.chart.legend;this.series.forEach(function(a){a.isDirtyData=!0});(b.dataClasses&&e.allItems||this.dataClasses)&&this.destroyItems();d.prototype.update.call(this,b,a);this.legendItem&&(this.setLegendColor(),e.colorizeItem(this,!0))};e.prototype.destroyItems=
function(){var b=this.chart;this.legendItem?b.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(a){b.legend.destroyItem(a)});b.isDirtyLegend=!0};e.prototype.destroy=function(){this.chart.isDirtyLegend=!0;this.destroyItems();d.prototype.destroy.apply(this,[].slice.call(arguments))};e.prototype.remove=function(b){this.destroyItems();d.prototype.remove.call(this,b)};e.prototype.getDataClassLegendSymbols=function(){var b=this,a=b.chart,d=b.legendItems,c=a.options.legend,e=q(c.valueDecimals,
-1),h=q(c.valueSuffix,""),k=function(a){return b.series.reduce(function(b,c){b.push.apply(b,c.points.filter(function(b){return b.dataClass===a}));return b},[])},l;d.length||b.dataClasses.forEach(function(c,g){var f=c.from,m=c.to,n=a.numberFormatter,p=!0;l="";"undefined"===typeof f?l="< ":"undefined"===typeof m&&(l="> ");"undefined"!==typeof f&&(l+=n(f,e)+h);"undefined"!==typeof f&&"undefined"!==typeof m&&(l+=" - ");"undefined"!==typeof m&&(l+=n(m,e)+h);d.push(B({chart:a,name:l,options:{},drawLegendSymbol:y.drawRectangle,
visible:!0,isDataClass:!0,setState:function(a){for(var b=0,c=k(g);b<c.length;b++)c[b].setState(a)},setVisible:function(){this.visible=p=b.visible=!p;for(var c=0,d=k(g);c<d.length;c++)d[c].setVisible(p);a.legend.colorizeItem(this,p)}},c))});return d};e.defaultColorAxisOptions=p;e.defaultLegendLength=200;e.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"];return e}(d);Array.prototype.push.apply(d.keepProps,h.keepProps);"";return h});n(d,"masters/modules/coloraxis.src.js",
[d["Core/Globals.js"],d["Core/Axis/Color/ColorAxis.js"]],function(d,h){d.ColorAxis=h;h.compose(d.Chart,d.Fx,d.Legend,d.Series)})});
//# sourceMappingURL=coloraxis.js.map