/*
 Highcharts JS v10.2.1 (2022-09-19)
 Treegraph chart series type

  (c) 2010-2022 Pawel Lysy Grzegorz Blachlinski

 License: www.highcharts.com/license
*/
(function(e){"object"===typeof module&&module.exports?(e["default"]=e,module.exports=e):"function"===typeof define&&define.amd?define("highcharts/modules/treegraph",["highcharts","highcharts/modules/treemap"],function(k){e(k);e.Highcharts=k;return e}):e("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(e){function k(e,f,d,b){e.hasOwnProperty(f)||(e[f]=b.apply(null,d),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:f,module:e[f]}})))}
e=e?e._modules:{};k(e,"Series/PathUtilities.js",[],function(){return{curvedPath:function(e,f){for(var d=[],b=0;b<e.length;b++){var a=e[b][1],c=e[b][2];if("number"===typeof a&&"number"===typeof c)if(0===b)d.push(["M",a,c]);else if(b===e.length-1)d.push(["L",a,c]);else if(f){var g=e[b-1],h=e[b+1];if(g&&h){var m=g[1];g=g[2];var l=h[1];h=h[2];if("number"===typeof m&&"number"===typeof l&&"number"===typeof g&&"number"===typeof h&&m!==l&&g!==h){var A=m<l?1:-1,t=g<h?1:-1;d.push(["L",a-A*Math.min(Math.abs(a-
m),f),c-t*Math.min(Math.abs(c-g),f)],["C",a,c,a,c,a+A*Math.min(Math.abs(a-l),f),c+t*Math.min(Math.abs(c-h),f)])}}}else d.push(["L",a,c])}return d}}});k(e,"Series/Treegraph/TreegraphNode.js",[e["Core/Series/SeriesRegistry.js"]],function(e){var f=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=
b}d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();return function(d){function b(){var a=null!==d&&d.apply(this,arguments)||this;a.mod=0;a.shift=0;a.change=0;a.children=[];a.preX=0;a.hidden=!1;a.wasVisited=!1;a.collapsed=!1;return a}f(b,d);b.prototype.nextLeft=function(){return this.getLeftMostChild()||this.thread};b.prototype.nextRight=function(){return this.getRightMostChild()||this.thread};b.prototype.getAncestor=function(a,c){return a.ancestor.children[0]===this.children[0]?
a.ancestor:c};b.prototype.getLeftMostSibling=function(){var a=this.getParent();if(a){var c=0;for(a=a.children;c<a.length;c++){var b=a[c];if(b&&b.point.visible)return b}}};b.prototype.hasChildren=function(){for(var a=this.children,c=0;c<a.length;c++)if(a[c].point.visible)return!0;return!1};b.prototype.getLeftSibling=function(){var a=this.getParent();if(a){a=a.children;for(var c=this.relativeXPosition-1;0<=c;c--)if(a[c]&&a[c].point.visible)return a[c]}};b.prototype.getLeftMostChild=function(){for(var a=
this.children,c=0;c<a.length;c++)if(a[c].point.visible)return a[c]};b.prototype.getRightMostChild=function(){for(var a=this.children,c=a.length-1;0<=c;c--)if(a[c].point.visible)return a[c]};b.prototype.getParent=function(){return this.parentNode};b.prototype.getFirstChild=function(){for(var a=this.children,c=0;c<a.length;c++)if(a[c].point.visible)return a[c]};return b}(e.seriesTypes.treemap.prototype.NodeClass)});k(e,"Series/Treegraph/TreegraphPoint.js",[e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],
e["Core/Utilities.js"]],function(e,f,d){var b=this&&this.__extends||function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return a(c,b)};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),a=d.addEvent,c=d.fireEvent,g=d.merge,h=d.pick;f=function(a){function d(){var c=null!==a&&a.apply(this,arguments)||
this;c.options=void 0;c.isLink=!1;c.series=void 0;c.node=void 0;return c}b(d,a);d.prototype.draw=function(){a.prototype.draw.apply(this,arguments);this.renderCollapseButton()};d.prototype.renderCollapseButton=function(){var a=this.series,c=this.graphic&&this.graphic.parentGroup;a=g(a.options.collapseButton,(a.mapOptionsToLevel[this.node.level||0]||{}).collapseButton,this.series.options.collapseButton);var b=a.width,d=a.height,e=a.shape,f=a.style,h=this.series.chart;if(this.shapeArgs)if(this.collapseButtonOptions=
a,this.collapseButton)this.node.children.length&&a.enabled?(c=this.getCollapseBtnPosition(a),m=c.x,l=c.y,this.collapseButton.attr({text:this.collapsed?"+":"-",rotation:h.inverted?90:0,rotationOriginX:b/2,rotationOriginY:d/2,visibility:!this.visible||a.onlyOnHover&&"hover"!==this.state&&!this.collapsed?"hidden":"inherit"}).animate({x:m,y:l})):(this.collapseButton.destroy(),delete this.collapseButton);else if(this.node.children.length&&a.enabled){l=this.getCollapseBtnPosition(a);var m=l.x,l=l.y;this.collapseButton=
h.renderer.label(this.collapsed?"+":"-",m,l,e).attr({height:d-4,width:b-4,padding:2,fill:"#cccccc",rotation:h.inverted?90:0,rotationOriginX:b/2,rotationOriginY:d/2,stroke:"#333333","stroke-width":1,"text-align":"center",align:"center",zIndex:1}).addClass("highcharts-tracker").addClass("highcharts-collapse-button").removeClass("highcharts-no-tooltip").css(f||{}).add(c);this.collapseButton.element.point=this;a.onlyOnHover&&!this.collapsed&&this.collapseButton.hide()}};d.prototype.toggleCollapse=function(a){this.collapsed=
h(a,!this.collapsed);c(this.series,"toggleCollapse");this.series.redraw()};d.prototype.shouldDraw=function(){return a.prototype.shouldDraw.call(this)&&this.visible};d.prototype.destroy=function(){this.collapseButton&&(this.collapseButton.destroy(),delete this.collapseButton,this.collapseButton=void 0);a.prototype.destroy.apply(this,arguments)};d.prototype.getCollapseBtnPosition=function(a){var c=a.width,b=a.height,d=this.shapeArgs||{},g=d.x,e=d.y,h=d.width;d=d.height;return{x:(void 0===g?0:g)+a.x+
(this.series.chart.inverted?.3*-b:(void 0===h?0:h)+-.3*c),y:(void 0===e?0:e)+(void 0===d?0:d)/2-b/2+a.y}};d.prototype.setState=function(){e.prototype.setState.apply(this,arguments)};return d}(f.seriesTypes.treemap.prototype.pointClass);a(f,"mouseOut",function(){var a=this.collapseButton,c=this.collapseButtonOptions;a&&c&&c.onlyOnHover&&!this.collapsed&&a.hide()});a(f,"mouseOver",function(){this.collapseButton&&this.collapseButton.show()});a(f,"click",function(){this.toggleCollapse()});return f});
k(e,"Series/Treegraph/TreegraphLink.js",[e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(e,f){var d=this&&this.__extends||function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return a(c,b)};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),b=f.pick,a=f.extend;return function(c){function g(){var a=
null!==c&&c.apply(this,arguments)||this;a.isLink=!0;a.node={};a.formatPrefix="link";a.dataLabelOnNull=!0;return a}d(g,c);g.prototype.init=function(a,b,d,e){var g=c.prototype.init.apply(this,arguments);this.formatPrefix="link";this.dataLabelOnNull=!0;e&&(g.fromNode=e.node.parentNode.point,g.visible=e.visible,g.toNode=e,this.id=g.toNode.id+"-"+g.fromNode.id);return g};g.prototype.update=function(c,d,g,f){var h={id:this.id,formatPrefix:this.formatPrefix};e.prototype.update.call(this,c,this.isLink?!1:
d,g,f);this.visible=this.toNode.visible;a(this,h);b(d,!0)&&this.series.chart.redraw(g)};return g}(e)});k(e,"Series/Treegraph/TreegraphLayout.js",[e["Series/Treegraph/TreegraphNode.js"]],function(e){return function(){function f(){}f.createDummyNode=function(d,b,a,c){c=new e;c.id=d.id+"-"+a;c.ancestor=d;c.children.push(b);c.parent=d.id;c.parentNode=d;c.point=b.point;c.level=b.level-a;c.relativeXPosition=b.relativeXPosition;c.visible=b.visible;d.children[b.relativeXPosition]=c;b.oldParentNode=d;b.relativeXPosition=
0;b.parentNode=c;b.parent=c.id;return c};f.prototype.calculatePositions=function(d){var b=d.nodeList;this.resetValues(b);if(d=d.tree)this.calculateRelativeX(d,0),this.beforeLayout(b),this.firstWalk(d),this.secondWalk(d,-d.preX),this.afterLayout(b)};f.prototype.beforeLayout=function(d){for(var b=0;b<d.length;b++)for(var a=d[b],c=0,e=0,h=a.children;e<h.length;e++){var m=h[e];if(m&&1<m.level-a.level)for(var l=m.level-a.level-1;0<l;)m=f.createDummyNode(a,m,l,c),l--;++c}};f.prototype.resetValues=function(d){for(var b=
0;b<d.length;b++){var a=d[b];a.mod=0;a.ancestor=a;a.shift=0;a.thread=void 0;a.change=0;a.preX=0}};f.prototype.calculateRelativeX=function(d,b){for(var a=d.children,c=0,e=a.length;c<e;++c)this.calculateRelativeX(a[c],c);d.relativeXPosition=b};f.prototype.firstWalk=function(d){if(d.hasChildren()){var b=d.getLeftMostChild();for(var a=0,c=d.children;a<c.length;a++){var e=c[a];this.firstWalk(e);b=this.apportion(e,b)}this.executeShifts(d);b=d.getLeftMostChild();a=d.getRightMostChild();a=(b.preX+a.preX)/
2;(b=d.getLeftSibling())?(d.preX=b.preX+1,d.mod=d.preX-a):d.preX=a}else(b=d.getLeftSibling())?(d.preX=b.preX+1,d.mod=d.preX):d.preX=0};f.prototype.secondWalk=function(d,b){d.yPosition=d.preX+b;d.xPosition=d.level;for(var a=0,c=d.children;a<c.length;a++)this.secondWalk(c[a],b+d.mod)};f.prototype.executeShifts=function(d){for(var b=0,a=0,c=d.children.length-1;0<=c;c--){var e=d.children[c];e.preX+=b;e.mod+=b;a+=e.change;b+=e.shift+a}};f.prototype.apportion=function(d,b){var a=d.getLeftSibling();if(a){for(var c=
d,e=d,f=c.getLeftMostSibling(),m=c.mod,l=e.mod,k=a.mod,t=f.mod;a&&a.nextRight()&&c&&c.nextLeft();){a=a.nextRight();f=f.nextLeft();c=c.nextLeft();e=e.nextRight();e.ancestor=d;var n=a.preX+k-(c.preX+m)+1;0<n&&(this.moveSubtree(d.getAncestor(a,b),d,n),m+=n,l+=n);k+=a.mod;m+=c.mod;t+=f.mod;l+=e.mod}a&&a.nextRight()&&!e.nextRight()&&(e.thread=a.nextRight(),e.mod+=k-l);c&&c.nextLeft()&&!f.nextLeft()&&(f.thread=c.nextLeft(),f.mod+=m-t);b=d}return b};f.prototype.moveSubtree=function(d,b,a){var c=b.relativeXPosition-
d.relativeXPosition;b.change-=a/c;b.shift+=a;b.preX+=a;b.mod+=a;d.change+=a/c};f.prototype.afterLayout=function(d){for(var b=0;b<d.length;b++){var a=d[b];a.oldParentNode&&(a.relativeXPosition=a.parentNode.relativeXPosition,a.parent=a.oldParentNode.parent,a.parentNode=a.oldParentNode,delete a.oldParentNode.children[a.relativeXPosition],a.oldParentNode.children[a.relativeXPosition]=a,a.oldParentNode=void 0)}};return f}()});k(e,"Series/Treegraph/TreegraphSeriesDefaults.js",[],function(){return{reversed:!1,
marker:{radius:10,lineWidth:0,symbol:"circle",fillOpacity:1,states:{}},link:{color:"#666666",lineWidth:1,radius:10,cursor:"default",type:"curved"},collapseButton:{onlyOnHover:!0,enabled:!0,x:0,y:0,height:10,width:10,shape:"circle"},tooltip:{linkFormat:"{point.fromNode.id} \u2192 {point.toNode.id}",pointFormat:"{point.id}"},dataLabels:{linkTextPath:{attributes:{startOffset:"50%"}},enabled:!0,linkFormatter:function(){return""},formatter:function(){return this.point.id}}}});k(e,"Series/Treegraph/TreegraphSeries.js",
[e["Series/PathUtilities.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Series/Treegraph/TreegraphNode.js"],e["Series/Treegraph/TreegraphPoint.js"],e["Series/TreeUtilities.js"],e["Core/Utilities.js"],e["Series/Treegraph/TreegraphLink.js"],e["Series/Treegraph/TreegraphLayout.js"],e["Series/Treegraph/TreegraphSeriesDefaults.js"]],function(e,f,d,b,a,c,g,h,m,l){var k=this&&this.__extends||function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return a(c,b)};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),t=e.curvedPath,n=f.series.prototype;e=f.seriesTypes;var B=e.treemap,C=e.column,D=d.prototype.symbols,E=c.getLevelOptions;d=g.extend;var F=g.isArray,u=g.merge,v=g.pick,y=g.relativeLength;g=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||
this;b.data=void 0;b.options=void 0;b.points=void 0;b.layoutModifier=void 0;b.nodeMap=void 0;b.tree=void 0;b.nodeList=[];b.layoutAlgorythm=void 0;b.links=[];b.mapOptionsToLevel=void 0;return b}k(b,a);b.prototype.init=function(){a.prototype.init.apply(this,arguments);this.layoutAlgorythm=new m};b.prototype.getLayoutModifiers=function(){var a=this,b=this.chart,c=this,d=b.plotSizeX,e=b.plotSizeY,f=Infinity,g=-Infinity,h=Infinity,m=-Infinity,l=0,k=0,z=0,w=0;this.points.forEach(function(b){var q=b.node;
b=u(a.options.marker,(c.mapOptionsToLevel[b.node.level]||{}).marker,b.options.marker);var p=y(b.radius||0,Math.min(d,e)),r=b.symbol,x="circle"!==r&&b.height?y(b.height,e):2*p;p="circle"!==r&&b.width?y(b.width,d):2*p;q.nodeSizeX=p;q.nodeSizeY=x;q.xPosition<=f&&(f=q.xPosition,r=b.lineWidth||0,k=Math.max(p+r,k));q.xPosition>=g&&(g=q.xPosition,r=b.lineWidth||0,l=Math.max(p+r,l));q.yPosition<=h&&(h=q.yPosition,r=b.lineWidth||0,w=Math.max(x+r,w));q.yPosition>=m&&(m=q.yPosition,r=b.lineWidth||0,z=Math.max(x+
r,z))});b=m===h?1:(e-(w+z)/2)/(m-h);var n=g===f?1:(d-(l+l)/2)/(g-f);return{ax:n,bx:g===f?d/2:-n*f+k/2,ay:b,by:m===h?e/2:-b*h+w/2}};b.prototype.getLinks=function(){var a=this,b=[];this.data.forEach(function(c,d){d=a.mapOptionsToLevel[c.node.level||0]||{};c.node.parent?(d=u(d,c.options),c.linkToParent&&c.linkToParent.update?c.linkToParent.update(d,!1):(d=(new a.LinkClass).init(a,d,void 0,c),c.linkToParent=d),c.linkToParent.index=b.push(c.linkToParent)-1):c.linkToParent&&(a.links.splice(c.linkToParent.index),
c.linkToParent.destroy(),delete c.linkToParent)});return b};b.prototype.buildTree=function(b,c,d,e,f){var q=this.points[c];d=q&&q.level||d;return a.prototype.buildTree.call(this,b,c,d,e,f)};b.prototype.setCollapsedStatus=function(a,b){var c=this,d=a.point;d&&(d.collapsed=v(d.collapsed,(this.mapOptionsToLevel[a.level]||{}).collapsed),d.visible=b,b=!1===b?!1:!d.collapsed);a.children.forEach(function(a){c.setCollapsedStatus(a,b)})};b.prototype.translate=function(){var a=this,b=this.options,d=c.updateRootId(this);
n.translate.call(this);var e=this.tree=this.getTree();var f=this.nodeMap[d];""===d||f&&f.children.length||(this.setRootNode("",!1),d=this.rootNode,f=this.nodeMap[d]);this.mapOptionsToLevel=E({from:f.level+1,levels:b.levels,to:e.height,defaults:{levelIsConstant:this.options.levelIsConstant,colorByPoint:b.colorByPoint}});this.setCollapsedStatus(e,!0);this.links=this.getLinks();this.setTreeValues(e);this.layoutAlgorythm.calculatePositions(this);this.layoutModifier=this.getLayoutModifiers();this.points.forEach(function(b){a.translateNode(b)});
this.points.forEach(function(b){b.linkToParent&&a.translateLink(b.linkToParent)})};b.prototype.translateLink=function(a){var b=a.fromNode,c=a.toNode,d=this.options.link.lineWidth,e=Math.round(d)%2/2,f=v(this.options.link.curveFactor,.5),g=v(a.options.link&&a.options.link.type,this.options.link.type);if(b.shapeArgs&&c.shapeArgs){var p=b.shapeArgs.width||0,h=this.chart.inverted,m=Math.floor((b.shapeArgs.y||0)+(b.shapeArgs.height||0)/2)+e,l=Math.floor((c.shapeArgs.y||0)+(c.shapeArgs.height||0)/2)+e,
k=Math.floor((b.shapeArgs.x||0)+p)+e,n=Math.floor(c.shapeArgs.x||0)+e;h&&(k-=p,n+=c.shapeArgs.width||0);b=c.node.xPosition-b.node.xPosition;a.shapeType="path";p=(Math.abs(n-k)+p)/b-p;f=p*f*(h?-1:1);a.plotX=Math.floor((n+k)/2)+e;a.plotY=l;a.shapeArgs="straight"===g?{d:[["M",k,m],["L",k+p*(h?-1:1),l],["L",n,l]]}:"curved"===g?{d:[["M",k,m],["C",k+f,m,k-f+p*(h?-1:1),l,k+p*(h?-1:1),l],["L",n,l]]}:{d:t([["M",k,m],["L",k+p*(h?-.5:.5),m],["L",k+p*(h?-.5:.5),l],["L",n,l]],this.options.link.radius)};a.dlBox=
{x:(k+n)/2,y:(m+l)/2,height:d,width:0};a.tooltipPos=h?[(this.chart.plotSizeY||0)-a.dlBox.y,(this.chart.plotSizeX||0)-a.dlBox.x]:[a.dlBox.x,a.dlBox.y]}};b.prototype.drawNodeLabels=function(a){for(var b=this.mapOptionsToLevel,c,d,e=0;e<a.length;e++){var f=a[e];d=b[f.node.level];c={style:{}};d&&d.dataLabels&&(c=u(c,d.dataLabels),this._hasPointLabels=!0);f.shapeArgs&&(c.style.width=f.shapeArgs.width,f.dataLabel&&f.dataLabel.css({width:f.shapeArgs.width+"px"}));f.dlOptions=u(c,f.options.dataLabels)}n.drawDataLabels.call(this,
a)};b.prototype.drawDataLabels=function(){this.options.dataLabels&&(F(this.options.dataLabels)||(this.options.dataLabels=[this.options.dataLabels]),this.drawNodeLabels(this.points),n.drawDataLabels.call(this,this.links))};b.prototype.destroy=function(){for(var a=0,b=this.links;a<b.length;a++)b[a].destroy();return n.destroy.apply(this,arguments)};b.prototype.pointAttribs=function(a,b){var c=this.mapOptionsToLevel[a.node.level||0]||{},d=a.options,e=c.states&&c.states[b]||{};a.options.marker=u(this.options.marker,
c.marker,a.options.marker);var f=v(e.borderRadius,d.borderRadius,c.borderRadius,this.options.borderRadius),g=v(e.link&&e.link.color,d.link&&d.link.color,c.link&&c.link.color,this.options.link&&this.options.link.color);c=v(e.link&&e.link.lineWidth,d.link&&d.link.lineWidth,c.link&&c.link.lineWidth,this.options.link&&this.options.link.lineWidth);b=n.pointAttribs.call(this,a,b);a.isLink?(b.stroke=g,b["stroke-width"]=c,delete b.fill):f&&(b.r=f);return b};b.prototype.drawPoints=function(){a.prototype.drawPoints.apply(this,
arguments);var b=this.points;this.points=this.links;C.prototype.drawPoints.apply(this,arguments);this.points=b};b.prototype.translateNode=function(a){var b=this.chart,c=a.node,d=b.plotSizeY,e=b.plotSizeX,f=this.layoutModifier,g=f.ax*c.xPosition+f.bx,h=f.ay*c.yPosition+f.by;f=u(this.options.marker,(this.mapOptionsToLevel[c.level]||{}).marker,a.options.marker).symbol;var l=c.nodeSizeY,k=c.nodeSizeX,m=this.options.reversed;g=c.x=b.inverted?e-k/2-g:g-k/2;c=c.y=m?h-l/2:d-h-l/2;a.shapeType="path";a.plotX=
g;a.plotY=c;a.shapeArgs={d:D[f||"circle"](g,c,k,l),x:g,y:c,width:k,height:l,cursor:a.node.isLeaf?"default":"pointer"};a.tooltipPos=b.inverted?[d-c-l/2,e-g-k/2]:[g+k/2,c]};b.defaultOptions=u(B.defaultOptions,l);return b}(B);d(g.prototype,{pointClass:a,NodeClass:b,LinkClass:h});f.registerSeriesType("treegraph",g);"";return g});k(e,"masters/modules/treegraph.src.js",[],function(){})});
//# sourceMappingURL=treegraph.js.map